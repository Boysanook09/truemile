<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Storage</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="user-bg-glow"></div>
    <header class="user-header">
        <h1>‡∏ó‡∏£‡∏π‡∏™‡πÑ‡∏°‡∏•‡πå ‡∏°‡∏≤‡∏£‡πå‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏¥‡πâ‡∏á</h1>
        <nav class="user-nav">
            <button class="user-nav-btn" id="technician">‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á</button>
            <button class="user-nav-btn" id="credit">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</button>
            <button class="user-nav-btn" id="sales">‡πÅ‡∏ú‡∏ô‡∏Å‡πÄ‡∏ã‡∏•‡∏™‡πå</button>
            <button class="user-nav-btn" id="settings">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
            <button class="user-nav-btn" id="stockMenu">‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
            <button class="user-nav-btn" id="productShowcaseMenu">‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
        </nav>
    </header>
    <main class="user-main">
        <!-- Dashboard Section -->
        <section id="dashboardSection" class="modern-card dashboard-section">
            <h2 class="gradient-title"><span>üìä</span> Dashboard ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h2>
            <div id="dashboardStats" class="dashboard-stats"></div>
        </section>
        <h1>Data Storage Page</h1>
        <p>Welcome! You are now on the data storage page.</p>
        <!-- Add your data storage UI here -->
        <div class="glow glow1"></div>
        <div class="glow glow2"></div>
        <div class="glow glow3"></div>
        <div id="notificationBar" class="notification-bar"></div>
        <audio id="notiSound" src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfae5b2.mp3" preload="auto"></audio>
        <div id="popupNotification" class="popup-notification"></div>
        <div id="stockSection" class="stock-section">
            <h2>‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
            <form id="addProductForm">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: <input type="text" id="productName" required></label>
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: <input type="number" id="productQty" required min="1"></label>
                <label>‡∏£‡∏≤‡∏Ñ‡∏≤: <input type="number" id="productPrice" min="0" step="0.01"></label>
                <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: <input type="text" id="productDetail"></label>
                <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î): <input type="file" id="productImgFile" accept="image/*"></label>
                <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (URL): <input type="text" id="productImg"></label>
                <button type="submit">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
            </form>
            <div id="addProductMsg"></div>
            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
            <input type="text" id="searchProduct" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." class="search-input">
            <table id="productTable">
                <thead><tr><th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th><th>‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å</th></tr></thead>
                <tbody id="productList"></tbody>
            </table>
        </div>
        <div id="productShowcaseSection" class="product-showcase-section">
            <h2>‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
            <input type="text" id="searchShowcase" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." class="search-input">
            <div id="productShowcaseList" class="product-showcase-list"></div>
        </div>
        <div id="technicianSection" class="technician-section">
            <h2>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏° (‡πÅ‡∏ú‡∏ô‡∏Å‡∏ä‡πà‡∏≤‡∏á)</h2>
            <form id="repairForm">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á: <input type="text" id="repairName" required></label>
                <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: <input type="date" id="repairDate" required></label>
                <label>‡πÄ‡∏ß‡∏•‡∏≤: <input type="time" id="repairTime" required></label>
                <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤: <input type="text" id="repairDetail" required></label>
                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà: <input type="text" id="repairLocation"></label>
                <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: <input type="tel" id="repairPhone"></label>
                <button type="submit">‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</button>
            </form>
            <div id="repairMsg"></div>
            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</h3>
            <table id="repairTable">
                <thead><tr><th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</th><th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th></tr></thead>
                <tbody id="repairList"></tbody>
            </table>
            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h3>
            <table id="extraTable">
                <thead><tr><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</th><th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</th><th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th><th>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ</th></tr></thead>
                <tbody id="extraList"></tbody>
            </table>
            <form id="technicianExtraForm" class="technician-extra-form">
                <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô: 
                    <select id="extraType" required>
                        <option value="">--‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô--</option>
                        <option value="‡πÑ‡∏ü‡∏ü‡πâ‡∏≤">‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</option>
                        <option value="‡∏õ‡∏£‡∏∞‡∏õ‡∏≤">‡∏õ‡∏£‡∏∞‡∏õ‡∏≤</option>
                        <option value="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</option>
                        <option value="‡∏≠‡∏∑‡πà‡∏ô ‡πÜ">‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</option>
                    </select>
                </label>
                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà: <input type="text" id="extraLocation" required></label>
                <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: <input type="tel" id="extraPhone" required></label>
                <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</button>
            </form>
            <div id="extraFormMsg"></div>
        </div>
        <div id="creditSection" class="credit-section modern-card">
            <h2 class="gradient-title"><span class="icon-credit">üí≥</span> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
            <form id="creditCustomerForm" class="modern-form">
                <div class="form-row">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                        <input type="text" id="creditCustomerName" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
                    </label>
                    <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
                        <input type="text" id="creditCustomerAddress" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
                    </label>
                </div>
                <div class="form-row">
                    <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
                        <input type="tel" id="creditCustomerPhone" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
                    </label>
                    <label>‡∏¢‡∏≠‡∏î‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)
                        <input type="number" id="creditInstallment" required min="1" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2000">
                    </label>
                </div>
                <div class="form-row">
                    <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î
                        <input type="number" id="creditTerm" required min="1" placeholder="‡πÄ‡∏ä‡πà‡∏ô 12">
                    </label>
                    <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏á‡∏ß‡∏î
                        <input type="date" id="creditStartDate" required>
                    </label>
                </div>
                <button type="submit" class="modern-btn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</button>
            </form>
            <div id="creditCustomerMsg" class="msg-anim"></div>
            <h3 class="gradient-title">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
            <table id="creditCustomerTable" class="modern-table">
                <thead><tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</th><th>‡πÄ‡∏ö‡∏≠‡∏£‡πå</th><th>‡∏¢‡∏≠‡∏î/‡∏á‡∏ß‡∏î</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏á‡∏ß‡∏î</th><th>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°</th><th>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th><th>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡πà‡∏≠‡∏ô</th></tr></thead>
                <tbody id="creditCustomerList"></tbody>
            </table>
            <h3 class="gradient-title">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏á‡∏ß‡∏î</h3>
            <div id="creditReportWindow" class="modern-card credit-report-window">
                <div id="creditReportContent">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>
            </div>
        </div>
        <div id="salesSection" class="sales-section modern-card">
            <h2 class="gradient-title"><span class="icon-sales">üõí</span> ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÅ‡∏ú‡∏ô‡∏á‡πÄ‡∏ã‡∏•‡∏™‡πå)</h2>
            <form id="salesCustomerForm" class="modern-form">
                <div class="form-row">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                        <input type="text" id="customerName" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
                    </label>
                    <label>‡∏ß‡∏±‡∏ô-‡πÄ‡∏ß‡∏•‡∏≤
                        <input type="datetime-local" id="customerDatetime" required>
                    </label>
                </div>
                <div class="form-row">
                    <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
                        <input type="text" id="customerAddress" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤">
                    </label>
                    <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
                        <input type="tel" id="customerPhone" required placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
                    </label>
                </div>
                <div class="form-row">
                    <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                        <select id="customerStatus" required>
                            <option value="‡πÉ‡∏´‡∏°‡πà">‡πÉ‡∏´‡∏°‡πà</option>
                            <option value="‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°</option>
                            <option value="‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢">‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</option>
                        </select>
                    </label>
                    <label>‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢
                        <input type="file" id="customerPhoto" accept="image/*">
                    </label>
                </div>
                <button type="submit" class="modern-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</button>
            </form>
            <div id="salesCustomerMsg" class="msg-anim"></div>
            <h3 class="gradient-title">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
            <table id="salesCustomerTable" class="modern-table">
                <thead><tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏ß‡∏±‡∏ô-‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</th><th>‡πÄ‡∏ö‡∏≠‡∏£‡πå</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th><th>‡∏£‡∏π‡∏õ‡∏ñ‡πà‡∏≤‡∏¢</th></tr></thead>
                <tbody id="salesCustomerList"></tbody>
            </table>
        </div>
        <div id="settingsSection" class="settings-section">
            <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</h2>
            <form id="appSettingsForm">
                <label>‡∏ò‡∏µ‡∏°‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å:
                    <select id="mainThemeColor">
                        <option value="#0078d7">‡∏ü‡πâ‡∏≤</option>
                        <option value="#e52e71">‡∏ä‡∏°‡∏û‡∏π</option>
                        <option value="#ff8a00">‡∏™‡πâ‡∏°</option>
                        <option value="#74ebd5">‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô</option>
                        <option value="#181c2b">‡πÄ‡∏Ç‡πâ‡∏°</option>
                    </select>
                </label>
                <label>‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô:
                    <select id="toggleAnimation">
                        <option value="on">‡πÄ‡∏õ‡∏¥‡∏î</option>
                        <option value="off">‡∏õ‡∏¥‡∏î</option>
                    </select>
                </label>
                <label>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£:
                    <select id="fontSize">
                        <option value="normal">‡∏õ‡∏Å‡∏ï‡∏¥</option>
                        <option value="large">‡πÉ‡∏´‡∏ç‡πà</option>
                        <option value="xlarge">‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å</option>
                    </select>
                </label>
                <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
            </form>
            <div id="settingsMsg"></div>
        </div>
    </main>
    <script>
        function showNotificationBar() {
            const noti = JSON.parse(localStorage.getItem('notifications') || '[]');
            if (noti.length > 0) {
                const last = noti[noti.length-1];
                const bar = document.getElementById('notificationBar');
                bar.innerHTML = `<b>‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</b> ${last.msg} <span style='font-size:13px;color:#888;'>(${last.date})</span>`;
                bar.style.display = 'block';
            }
        }
        function getProducts() {
            return JSON.parse(localStorage.getItem('products') || '[]');
        }
        function setProducts(p) {
            localStorage.setItem('products', JSON.stringify(p));
        }
        function renderProductList(filter = '') {
            const products = getProducts();
            const tbody = document.getElementById('productList');
            tbody.innerHTML = '';
            products.filter(p => p.name.includes(filter)).forEach((p, idx) => {
                tbody.innerHTML += `<tr><td>${p.name}</td><td>${p.qty}</td><td><button onclick="cutStock(${idx})">‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å</button></td></tr>`;
            });
        }
        document.getElementById('addProductForm').onsubmit = async function(e) {
            e.preventDefault();
            const name = document.getElementById('productName').value.trim();
            const qty = parseInt(document.getElementById('productQty').value);
            const price = document.getElementById('productPrice').value;
            const detail = document.getElementById('productDetail').value;
            const imgUrl = document.getElementById('productImg').value;
            const imgFile = document.getElementById('productImgFile').files[0];
            let img = imgUrl;
            if (imgFile) {
                img = await new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = e => resolve(e.target.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(imgFile);
                });
            }
            const msg = document.getElementById('addProductMsg');
            if (!name || qty < 1) return;
            let products = getProducts();
            const exist = products.find(p => p.name === name);
            if (exist) {
                exist.qty += qty;
                if (price) exist.price = price;
                if (detail) exist.detail = detail;
                if (img) exist.img = img;
                msg.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
                msg.style.color = '#0078d7';
            } else {
                products.push({name, qty, price, detail, img});
                msg.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
                msg.style.color = '#0078d7';
            }
            setProducts(products);
            renderProductList();
            this.reset();
        };
        function cutStock(idx) {
            let products = getProducts();
            const qty = prompt('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å:', '1');
            const n = parseInt(qty);
            if (!n || n < 1) return;
            if (products[idx].qty < n) {
                alert('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏≠!');
                return;
            }
            products[idx].qty -= n;
            setProducts(products);
            renderProductList();
        }
        // ‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ú‡∏ô‡∏á‡∏ï‡πà‡∏≤‡∏á ‡πÜ
        document.getElementById('technician').onclick = function() {
            hideAllSections();
            document.getElementById('technicianSection').style.display = 'block';
            renderRepairList();
            renderExtraList && renderExtraList();
        };
        document.getElementById('credit').onclick = function() {
            hideAllSections();
            document.getElementById('creditSection').style.display = 'block';
            renderCreditCustomerList();
        };
        document.getElementById('sales').onclick = function() {
            hideAllSections();
            document.getElementById('salesSection').style.display = 'block';
            renderSalesCustomerList();
        };
        document.getElementById('settings').onclick = function() {
            hideAllSections();
            document.getElementById('settingsSection').style.display = 'block';
        };
        document.getElementById('stockMenu').onclick = function() {
            hideAllSections();
            document.getElementById('stockSection').style.display = 'block';
            renderProductList && renderProductList();
        };
        document.getElementById('productShowcaseMenu').onclick = function() {
            hideAllSections();
            document.getElementById('productShowcaseSection').style.display = 'block';
            renderProductShowcase && renderProductShowcase();
        };
        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å section
        function hideAllSections() {
            const sections = [
                'technicianSection','creditSection','salesSection','settingsSection',
                'stockSection','productShowcaseSection'
            ];
            sections.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = 'none';
            });
        }
        function renderProductShowcase(filter = '') {
            const products = getProducts();
            const showcase = document.getElementById('productShowcaseList');
            showcase.innerHTML = '';
            products.filter(p => p.name.includes(filter)).forEach((p, idx) => {
                showcase.innerHTML += `
                    <div class='product-card'>
                        <div class='product-img'>${p.img ? `<img src='${p.img}' alt='${p.name}'>` : '<span class="no-img">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</span>'}</div>
                        <div class='product-info'>
                            <h3>${p.name}</h3>
                            <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${p.qty}</p>
                            <p>‡∏£‡∏≤‡∏Ñ‡∏≤: ${p.price ? p.price + ' ‡∏ö‡∏≤‡∏ó' : '-'} </p>
                            <p>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: ${p.detail || '-'}</p>
                        </div>
                    </div>
                `;
            });
        }
        document.getElementById('searchProduct').oninput = function() {
            renderProductList(this.value.trim());
        };
        document.getElementById('searchShowcase').oninput = function() {
            renderProductShowcase(this.value.trim());
        };
        function getRepairs() {
            return JSON.parse(localStorage.getItem('repairs') || '[]');
        }
        function setRepairs(r) {
            localStorage.setItem('repairs', JSON.stringify(r));
        }
        function renderRepairList() {
            const repairs = getRepairs();
            const tbody = document.getElementById('repairList');
            tbody.innerHTML = '';
            repairs.forEach((r, idx) => {
                tbody.innerHTML += `<tr><td>${r.name}</td><td>${r.date}</td><td>${r.time}</td><td>${r.detail}</td><td>${r.status}</td></tr>`;
            });
        }
        document.getElementById('repairForm').onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('repairName').value.trim();
            const date = document.getElementById('repairDate').value;
            const time = document.getElementById('repairTime').value;
            const detail = document.getElementById('repairDetail').value;
            const location = document.getElementById('repairLocation') ? document.getElementById('repairLocation').value : '';
            const phone = document.getElementById('repairPhone') ? document.getElementById('repairPhone').value : '';
            const msg = document.getElementById('repairMsg');
            let repairs = getRepairs();
            repairs.push({name, date, time, detail, location, phone, status: '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£'});
            setRepairs(repairs);
            msg.textContent = '‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            msg.style.color = '#0078d7';
            renderRepairList();
            this.reset();
        };
        document.getElementById('technicianExtraForm').onsubmit = function(e) {
            e.preventDefault();
            const type = document.getElementById('extraType').value;
            const location = document.getElementById('extraLocation').value.trim();
            const phone = document.getElementById('extraPhone').value.trim();
            let extras = JSON.parse(localStorage.getItem('technicianExtras') || '[]');
            extras.push({type, location, phone, date: new Date().toLocaleString()});
            localStorage.setItem('technicianExtras', JSON.stringify(extras));
            document.getElementById('extraFormMsg').textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            document.getElementById('extraFormMsg').style.color = '#0078d7';
            this.reset();
        };
        function renderExtraList() {
            const extras = JSON.parse(localStorage.getItem('technicianExtras') || '[]');
            const tbody = document.getElementById('extraList');
            tbody.innerHTML = '';
            extras.forEach((e, idx) => {
                tbody.innerHTML += `<tr><td>${e.type}</td><td>${e.location}</td><td>${e.phone}</td><td>${e.date}</td><td><button onclick="useExtra(${idx})">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ</button></td></tr>`;
            });
        }
        window.useExtra = function(idx) {
            const extras = JSON.parse(localStorage.getItem('technicianExtras') || '[]');
            const e = extras[idx];
            // Autofill multiple fields in repair form
            document.getElementById('repairDetail').value = `‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô: ${e.type}`;
            if(document.getElementById('repairLocation')) {
                document.getElementById('repairLocation').value = e.location;
            }
            if(document.getElementById('repairPhone')) {
                document.getElementById('repairPhone').value = e.phone;
            }
        };
        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å renderExtraList ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î technicianSection
        const oldTechClick = document.getElementById('technician').onclick;
        document.getElementById('technician').onclick = function() {
            document.getElementById('technicianSection').style.display = 'block';
            renderRepairList();
            renderExtraList();
            if (oldTechClick) oldTechClick();
        };
        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
        function loadAppSettings() {
            const settings = JSON.parse(localStorage.getItem('appSettings') || '{}');
            if(settings.mainThemeColor) document.documentElement.style.setProperty('--main-theme', settings.mainThemeColor);
            if(settings.toggleAnimation === 'off') {
                document.body.classList.add('no-anim');
            } else {
                document.body.classList.remove('no-anim');
            }
            if(settings.fontSize) {
                document.body.classList.remove('font-large','font-xlarge');
                if(settings.fontSize === 'large') document.body.classList.add('font-large');
                if(settings.fontSize === 'xlarge') document.body.classList.add('font-xlarge');
            }
            // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ü‡∏≠‡∏£‡πå‡∏°
            document.getElementById('mainThemeColor').value = settings.mainThemeColor || '#0078d7';
            document.getElementById('toggleAnimation').value = settings.toggleAnimation || 'on';
            document.getElementById('fontSize').value = settings.fontSize || 'normal';
        }
        document.getElementById('appSettingsForm').onsubmit = function(e) {
            e.preventDefault();
            const mainThemeColor = document.getElementById('mainThemeColor').value;
            const toggleAnimation = document.getElementById('toggleAnimation').value;
            const fontSize = document.getElementById('fontSize').value;
            const settings = {mainThemeColor, toggleAnimation, fontSize};
            localStorage.setItem('appSettings', JSON.stringify(settings));
            loadAppSettings();
            document.getElementById('settingsMsg').textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            setTimeout(()=>{document.getElementById('settingsMsg').textContent='';}, 2000);
        };
        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏≠‡∏û
        loadAppSettings();
        function getSalesCustomers() {
            return JSON.parse(localStorage.getItem('salesCustomers') || '[]');
        }
        function setSalesCustomers(list) {
            localStorage.setItem('salesCustomers', JSON.stringify(list));
        }
        function renderSalesCustomerList() {
            const list = getSalesCustomers();
            const tbody = document.getElementById('salesCustomerList');
            tbody.innerHTML = '';
            list.forEach(c => {
                tbody.innerHTML += `<tr><td>${c.name}</td><td>${c.datetime}</td><td>${c.address}</td><td>${c.phone}</td><td>${c.status}</td><td>${c.photo ? `<img src='${c.photo}' style='width:40px;height:40px;object-fit:cover;border-radius:6px;'>` : '-'}</td></tr>`;
            });
        }
        document.getElementById('salesCustomerForm').onsubmit = async function(e) {
            e.preventDefault();
            const name = document.getElementById('customerName').value.trim();
            const datetime = document.getElementById('customerDatetime').value;
            const address = document.getElementById('customerAddress').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();
            const status = document.getElementById('customerStatus').value;
            const photoFile = document.getElementById('customerPhoto').files[0];
            let photo = '';
            if (photoFile) {
                photo = await new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = e => resolve(e.target.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(photoFile);
                });
            }
            let list = getSalesCustomers();
            list.push({name, datetime, address, phone, status, photo});
            setSalesCustomers(list);
            renderSalesCustomerList();
            document.getElementById('salesCustomerMsg').textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            document.getElementById('salesCustomerMsg').style.color = '#0078d7';
            this.reset();
            // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô
            let adminSales = JSON.parse(localStorage.getItem('adminSalesCustomers') || '[]');
            adminSales.push({name, datetime, address, phone, status, photo});
            localStorage.setItem('adminSalesCustomers', JSON.stringify(adminSales));
        };
        // --- Credit Customer System ---
        function getCreditCustomers() {
            return JSON.parse(localStorage.getItem('creditCustomers') || '[]');
        }
        function setCreditCustomers(list) {
            localStorage.setItem('creditCustomers', JSON.stringify(list));
        }
        function renderCreditCustomerList() {
            const list = getCreditCustomers();
            const tbody = document.getElementById('creditCustomerList');
            tbody.innerHTML = '';
            list.forEach((c, idx) => {
                const total = c.installment * c.term;
                tbody.innerHTML += `<tr>
                    <td>${c.name}</td>
                    <td>${c.address}</td>
                    <td>${c.phone}</td>
                    <td>${c.installment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</td>
                    <td>${c.term}</td>
                    <td>${c.startDate}</td>
                    <td>${total.toLocaleString()} ‡∏ö‡∏≤‡∏ó</td>
                    <td><button class='modern-btn' onclick='showInstallmentTable(${idx})'>‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á</button></td>
                </tr>`;
            });
        }
        document.getElementById('creditCustomerForm').onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('creditCustomerName').value.trim();
            const address = document.getElementById('creditCustomerAddress').value.trim();
            const phone = document.getElementById('creditCustomerPhone').value.trim();
            const installment = parseFloat(document.getElementById('creditInstallment').value);
            const term = parseInt(document.getElementById('creditTerm').value);
            const startDate = document.getElementById('creditStartDate').value;
            if (!name || !address || !phone || !installment || !term || !startDate) return;
            let list = getCreditCustomers();
            list.push({name, address, phone, installment, term, startDate, payments: []});
            setCreditCustomers(list);
            renderCreditCustomerList();
            document.getElementById('creditCustomerMsg').textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
            document.getElementById('creditCustomerMsg').style.color = '#0078d7';
            this.reset();
        };
        function showInstallmentTable(idx) {
            const list = getCreditCustomers();
            const c = list[idx];
            const start = new Date(c.startDate);
            let rows = '';
            for (let i = 0; i < c.term; i++) {
                const due = new Date(start);
                due.setMonth(due.getMonth() + i);
                const paid = c.payments && c.payments[i] ? c.payments[i].paid : false;
                const paidDate = c.payments && c.payments[i] ? c.payments[i].date : '';
                rows += `<tr${paid ? " class='paid-row'" : ''}>
                    <td>${i+1}</td>
                    <td>${due.toLocaleDateString()}</td>
                    <td>${c.installment.toLocaleString()} ‡∏ö‡∏≤‡∏ó</td>
                    <td>${paid ? `<span style='color:#00b894;'>‚úî ‡∏ä‡∏≥‡∏£‡∏∞‡πÅ‡∏•‡πâ‡∏ß</span><br><span style='font-size:12px;color:#888;'>${paidDate}</span>` : `<button class='modern-btn' onclick='payInstallment(${idx},${i})'>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏≥‡∏£‡∏∞</button>`}</td>
                </tr>`;
            }
            document.getElementById('creditReportContent').innerHTML = `
                <table class='modern-table'>
                    <thead><tr><th>‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà</th><th>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</th><th>‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞</th><th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th></tr></thead>
                    <tbody>${rows}</tbody>
                </table>
            `;
        }
        function payInstallment(cidx, tidx) {
            let list = getCreditCustomers();
            if (!list[cidx].payments) list[cidx].payments = [];
            list[cidx].payments[tidx] = {paid: true, date: new Date().toLocaleString()};
            setCreditCustomers(list);
            showInstallmentTable(cidx);
            renderCreditCustomerList();
        }
        // --- Button Ripple Effect ---
        document.querySelectorAll('.modern-btn, button, .admin-nav-btn, .user-nav-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                if (!btn.classList.contains('ripple')) return;
                const rect = btn.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                btn.style.setProperty('--ripple-x', x + 'px');
                btn.style.setProperty('--ripple-y', y + 'px');
                btn.classList.remove('ripple');
                void btn.offsetWidth; // force reflow
                btn.classList.add('ripple');
                setTimeout(()=>btn.classList.remove('ripple'), 500);
            });
        });
        // --- Table Row Highlight on Update ---
        function highlightTableRow(row) {
            row.classList.add('pulse-row');
            setTimeout(()=>row.classList.remove('pulse-row'), 1200);
        }
        // --- Real-time Search/Filter for All Tables ---
        function addRealtimeFilter(inputId, tableId) {
            const input = document.getElementById(inputId);
            const table = document.getElementById(tableId);
            if (!input || !table) return;
            input.addEventListener('input', function() {
                const val = input.value.toLowerCase();
                table.querySelectorAll('tbody tr').forEach(tr => {
                    tr.style.display = [...tr.children].some(td => td.textContent.toLowerCase().includes(val)) ? '' : 'none';
                });
            });
        }
        window.addEventListener('DOMContentLoaded', function() {
            addRealtimeFilter('searchUser', 'userListTable');
            addRealtimeFilter('searchProduct', 'productTable');
            addRealtimeFilter('searchShowcase', 'productShowcaseList');
        });
        // --- Export Table to CSV ---
        function exportTableToCSV(tableId, filename) {
            const table = document.getElementById(tableId);
            let csv = [];
            table.querySelectorAll('tr').forEach(row => {
                let rowData = [];
                row.querySelectorAll('th,td').forEach(cell => {
                    rowData.push('"' + cell.textContent.replace(/"/g, '""') + '"');
                });
                csv.push(rowData.join(','));
            });
            const blob = new Blob([csv.join('\n')], {type: 'text/csv'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = filename;
            a.click();
        }
        // --- Dark Mode ---
        function toggleDarkMode(on) {
            document.body.classList.toggle('dark-mode', on);
        }
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'd') toggleDarkMode();
        });
        // --- Dashboard (‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥) ---
        function renderDashboard() {
            // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤, ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏° ‡∏Ø‡∏•‡∏Ø
            const sales = JSON.parse(localStorage.getItem('salesCustomers')||'[]').length;
            const products = JSON.parse(localStorage.getItem('products')||'[]').length;
            const repairs = JSON.parse(localStorage.getItem('repairList')||'[]').length;
            document.getElementById('dashboardStats').innerHTML = `
                <div class='dashboard-card'><span>üë•</span><b>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ã‡∏•‡∏™‡πå</b><br>${sales} ‡∏Ñ‡∏ô</div>
                <div class='dashboard-card'><span>üì¶</span><b>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</b><br>${products} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
                <div class='dashboard-card'><span>üõ†Ô∏è</span><b>‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°</b><br>${repairs} ‡∏á‡∏≤‡∏ô</div>
            `;
        }
        // --- Drag & Drop Table Rows ---
        function enableTableDragDrop(tableId) {
            const table = document.getElementById(tableId);
            let dragging, startIdx;
            table.querySelectorAll('tbody tr').forEach((row, idx) => {
                row.draggable = true;
                row.ondragstart = e => { dragging = row; startIdx = idx; };
                row.ondragover = e => { e.preventDefault(); };
                row.ondrop = e => {
                    if (dragging && dragging !== row) {
                        row.parentNode.insertBefore(dragging, row.nextSibling);
                        highlightTableRow(row);
                    }
                };
            });
        }
        // --- Autocomplete Input ---
        function enableAutocomplete(inputId, dataList) {
            const input = document.getElementById(inputId);
            if (!input) return;
            input.addEventListener('input', function() {
                let val = input.value.toLowerCase();
                let match = dataList.find(d => d.toLowerCase().startsWith(val));
                if (match) input.value = match;
            });
        }
    </script>
</body>
</html>
